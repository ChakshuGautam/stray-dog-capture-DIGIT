# DA-02: View Verification Funnel

[‚Üê Back to User Stories Master](../../design-outputs/02-user-stories.md) | [‚Üê Back to Admin Stories](./index.md)

## User Story

**As a** District Administrator,
**I want to** see the verification funnel (submitted ‚Üí verified ‚Üí rejected ‚Üí duplicate),
**So that** I can identify bottlenecks in the review process.

## Description

The verification funnel provides visibility into how submissions flow through the verification process. This helps identify:
- Verification team capacity issues
- High rejection rates that may indicate teacher training needs
- Duplicate submission patterns
- Processing time bottlenecks

## Acceptance Criteria

### Functional Requirements
- [ ] Funnel visualization showing all stages
- [ ] Conversion rates between stages displayed
- [ ] Average time in each stage shown
- [ ] Filter by date range and block
- [ ] Drill-down into rejected reasons
- [ ] Drill-down into duplicate clusters
- [ ] Compare funnel metrics over time

### Non-Functional Requirements
- [ ] Real-time data (< 5 min delay)
- [ ] Responsive visualization
- [ ] Export capability

## UI/UX Design

### Verification Funnel Dashboard
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìä Verification Funnel                    Date: Last 30 Days   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ                    FUNNEL VISUALIZATION                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ              SUBMITTED: 1,245                       ‚îÇ  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ              ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    ‚îÇ  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                         ‚îÇ                                 ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                         ‚ñº 8% Auto-Rejected                ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ      ‚îÇ        IN VERIFICATION: 1,145              ‚îÇ      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ      ‚îÇ        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    ‚îÇ      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                         ‚îÇ                                 ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ           ‚ñº             ‚ñº             ‚ñº                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚îÇ VERIFIED  ‚îÇ  ‚îÇ REJECTED  ‚îÇ  ‚îÇ DUPLICATE ‚îÇ            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚îÇ   987     ‚îÇ  ‚îÇ   101     ‚îÇ  ‚îÇ    57     ‚îÇ            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚îÇ   86%     ‚îÇ  ‚îÇ   9%      ‚îÇ  ‚îÇ    5%     ‚îÇ            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚îÇ ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚îÇ  ‚îÇ ‚ñà‚ñà        ‚îÇ  ‚îÇ ‚ñà         ‚îÇ            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                                           ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇ  üìà Stage Metrics                                          ‚îÇ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ‚îÇ
‚îÇ  ‚îÇ Stage          ‚îÇ Count    ‚îÇ % of Prev ‚îÇ Avg Time in Stage ‚îÇ‚îÇ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§‚îÇ‚îÇ
‚îÇ  ‚îÇ Submitted      ‚îÇ  1,245   ‚îÇ    -      ‚îÇ       -           ‚îÇ‚îÇ‚îÇ
‚îÇ  ‚îÇ Auto-Rejected  ‚îÇ    100   ‚îÇ    8%     ‚îÇ     < 1 min       ‚îÇ‚îÇ‚îÇ
‚îÇ  ‚îÇ In Verification‚îÇ  1,145   ‚îÇ   92%     ‚îÇ     4.2 hrs       ‚îÇ‚îÇ‚îÇ
‚îÇ  ‚îÇ Verified       ‚îÇ    987   ‚îÇ   86%     ‚îÇ       -           ‚îÇ‚îÇ‚îÇ
‚îÇ  ‚îÇ Manual Reject  ‚îÇ    101   ‚îÇ    9%     ‚îÇ       -           ‚îÇ‚îÇ‚îÇ
‚îÇ  ‚îÇ Duplicate      ‚îÇ     57   ‚îÇ    5%     ‚îÇ       -           ‚îÇ‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  ‚ùå Rejection Reasons      ‚îÇ  üîó Duplicate Clusters     ‚îÇ   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ
‚îÇ  ‚îÇ                            ‚îÇ                            ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  Not a stray dog    35%    ‚îÇ  Same location <24h  45%  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà              ‚îÇ  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà         ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                            ‚îÇ                            ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  Unclear photo      28%    ‚îÇ  Same photo hash     32%  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                ‚îÇ  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà              ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                            ‚îÇ                            ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  Cannot verify      22%    ‚îÇ  Same dog, diff loc  23%  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                  ‚îÇ  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà                 ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                            ‚îÇ                            ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  Suspected fraud    15%    ‚îÇ                            ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚ñà‚ñà‚ñà‚ñà‚ñà                     ‚îÇ                            ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                            ‚îÇ                            ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  [View All Details]        ‚îÇ  [View Clusters]          ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## Technical Implementation

### Funnel Service
```javascript
// src/services/admin/VerificationFunnelService.js

class VerificationFunnelService {
  static FUNNEL_STAGES = [
    { id: 'submitted', label: 'Submitted', color: '#2196f3' },
    { id: 'auto_rejected', label: 'Auto-Rejected', color: '#ff9800' },
    { id: 'in_verification', label: 'In Verification', color: '#9c27b0' },
    { id: 'verified', label: 'Verified', color: '#4caf50' },
    { id: 'manual_rejected', label: 'Rejected', color: '#f44336' },
    { id: 'duplicate', label: 'Duplicate', color: '#607d8b' }
  ];

  static async getFunnelData(districtId, startDate, endDate) {
    const params = new URLSearchParams({
      districtId,
      startDate: startDate.toISOString(),
      endDate: endDate.toISOString()
    });

    const response = await fetch(`/api/admin/verification/funnel?${params}`);
    return response.json();
  }

  static async getRejectionReasons(districtId, startDate, endDate) {
    const response = await fetch(
      `/api/admin/verification/rejections?districtId=${districtId}&startDate=${startDate}&endDate=${endDate}`
    );
    return response.json();
  }

  static async getDuplicateClusters(districtId, startDate, endDate) {
    const response = await fetch(
      `/api/admin/verification/duplicates?districtId=${districtId}&startDate=${startDate}&endDate=${endDate}`
    );
    return response.json();
  }

  static calculateConversionRate(current, previous) {
    if (previous === 0) return 0;
    return Math.round((current / previous) * 100);
  }

  static formatDuration(minutes) {
    if (minutes < 60) return `${minutes} min`;
    if (minutes < 1440) return `${(minutes / 60).toFixed(1)} hrs`;
    return `${(minutes / 1440).toFixed(1)} days`;
  }
}

export default VerificationFunnelService;
```

### Funnel Visualization Component
```jsx
// src/components/admin/VerificationFunnel.jsx
import React, { useState, useEffect } from 'react';
import VerificationFunnelService from '../../services/admin/VerificationFunnelService';

function VerificationFunnel({ districtId, dateRange }) {
  const [funnelData, setFunnelData] = useState(null);
  const [rejectionReasons, setRejectionReasons] = useState([]);
  const [duplicateClusters, setDuplicateClusters] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchData();
  }, [districtId, dateRange]);

  const fetchData = async () => {
    setLoading(true);
    try {
      const [funnel, rejections, duplicates] = await Promise.all([
        VerificationFunnelService.getFunnelData(districtId, dateRange.start, dateRange.end),
        VerificationFunnelService.getRejectionReasons(districtId, dateRange.start, dateRange.end),
        VerificationFunnelService.getDuplicateClusters(districtId, dateRange.start, dateRange.end)
      ]);

      setFunnelData(funnel);
      setRejectionReasons(rejections);
      setDuplicateClusters(duplicates);
    } catch (error) {
      console.error('Failed to fetch funnel data:', error);
    } finally {
      setLoading(false);
    }
  };

  if (loading || !funnelData) {
    return <div className="loading-spinner">Loading funnel data...</div>;
  }

  const { submitted, autoRejected, inVerification, verified, manualRejected, duplicate } = funnelData;

  return (
    <div className="verification-funnel">
      <h2>üìä Verification Funnel</h2>

      {/* Funnel Visualization */}
      <div className="funnel-visual">
        <FunnelStage
          label="Submitted"
          count={submitted}
          width={100}
          color="#2196f3"
        />

        <div className="funnel-arrow">
          <span className="arrow-label">{VerificationFunnelService.calculateConversionRate(autoRejected, submitted)}% Auto-Rejected</span>
          <span className="arrow-icon">‚ñº</span>
        </div>

        <FunnelStage
          label="In Verification"
          count={inVerification}
          width={VerificationFunnelService.calculateConversionRate(inVerification, submitted)}
          color="#9c27b0"
        />

        <div className="funnel-split">
          <FunnelOutcome
            label="Verified"
            count={verified}
            percentage={VerificationFunnelService.calculateConversionRate(verified, inVerification)}
            color="#4caf50"
          />
          <FunnelOutcome
            label="Rejected"
            count={manualRejected}
            percentage={VerificationFunnelService.calculateConversionRate(manualRejected, inVerification)}
            color="#f44336"
          />
          <FunnelOutcome
            label="Duplicate"
            count={duplicate}
            percentage={VerificationFunnelService.calculateConversionRate(duplicate, inVerification)}
            color="#607d8b"
          />
        </div>
      </div>

      {/* Stage Metrics Table */}
      <div className="stage-metrics">
        <h3>üìà Stage Metrics</h3>
        <table className="metrics-table">
          <thead>
            <tr>
              <th>Stage</th>
              <th>Count</th>
              <th>% of Previous</th>
              <th>Avg Time in Stage</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Submitted</td>
              <td>{submitted.toLocaleString()}</td>
              <td>-</td>
              <td>-</td>
            </tr>
            <tr>
              <td>Auto-Rejected</td>
              <td>{autoRejected.toLocaleString()}</td>
              <td>{VerificationFunnelService.calculateConversionRate(autoRejected, submitted)}%</td>
              <td>&lt; 1 min</td>
            </tr>
            <tr>
              <td>In Verification</td>
              <td>{inVerification.toLocaleString()}</td>
              <td>{VerificationFunnelService.calculateConversionRate(inVerification, submitted)}%</td>
              <td>{VerificationFunnelService.formatDuration(funnelData.avgVerificationTime)}</td>
            </tr>
            <tr>
              <td>Verified</td>
              <td>{verified.toLocaleString()}</td>
              <td>{VerificationFunnelService.calculateConversionRate(verified, inVerification)}%</td>
              <td>-</td>
            </tr>
            <tr>
              <td>Manual Rejected</td>
              <td>{manualRejected.toLocaleString()}</td>
              <td>{VerificationFunnelService.calculateConversionRate(manualRejected, inVerification)}%</td>
              <td>-</td>
            </tr>
            <tr>
              <td>Duplicate</td>
              <td>{duplicate.toLocaleString()}</td>
              <td>{VerificationFunnelService.calculateConversionRate(duplicate, inVerification)}%</td>
              <td>-</td>
            </tr>
          </tbody>
        </table>
      </div>

      {/* Rejection Reasons & Duplicate Clusters */}
      <div className="breakdown-panels">
        <div className="breakdown-panel">
          <h3>‚ùå Rejection Reasons</h3>
          {rejectionReasons.map(reason => (
            <div key={reason.code} className="breakdown-item">
              <span className="reason-label">{reason.label}</span>
              <span className="reason-percentage">{reason.percentage}%</span>
              <div className="reason-bar">
                <div
                  className="bar-fill"
                  style={{ width: `${reason.percentage}%`, background: '#f44336' }}
                />
              </div>
            </div>
          ))}
          <button className="view-details-btn">View All Details</button>
        </div>

        <div className="breakdown-panel">
          <h3>üîó Duplicate Clusters</h3>
          {duplicateClusters.map(cluster => (
            <div key={cluster.type} className="breakdown-item">
              <span className="reason-label">{cluster.label}</span>
              <span className="reason-percentage">{cluster.percentage}%</span>
              <div className="reason-bar">
                <div
                  className="bar-fill"
                  style={{ width: `${cluster.percentage}%`, background: '#607d8b' }}
                />
              </div>
            </div>
          ))}
          <button className="view-details-btn">View Clusters</button>
        </div>
      </div>
    </div>
  );
}

function FunnelStage({ label, count, width, color }) {
  return (
    <div className="funnel-stage" style={{ width: `${width}%` }}>
      <div className="stage-bar" style={{ background: color }}>
        <span className="stage-label">{label}: {count.toLocaleString()}</span>
      </div>
    </div>
  );
}

function FunnelOutcome({ label, count, percentage, color }) {
  return (
    <div className="funnel-outcome">
      <div className="outcome-header">{label}</div>
      <div className="outcome-count">{count.toLocaleString()}</div>
      <div className="outcome-percentage">{percentage}%</div>
      <div className="outcome-bar" style={{ background: color }} />
    </div>
  );
}

export default VerificationFunnel;
```

## Dependencies

- **DA-01**: Submission trends (data source)
- **Verification API**: Funnel metrics aggregation

## Related Stories

- [DA-01](./DA-01.md) - Submission Volume Trends
- [DA-05](./DA-05.md) - Fraud Indicators
- [V-REV-03](../verifier/V-REV-03.md) - Fraud Flags

## Notes

- Funnel helps identify verification team capacity needs
- High rejection rates may indicate teacher training needs
- Duplicate patterns help improve system rules
