# SA-03: Budget Utilization

[â† Back to User Stories Master](../../design-outputs/02-user-stories.md) | [â† Back to Admin Stories](./index.md)

## User Story

**As a** State Administrator,
**I want to** view budget utilization (total payouts vs allocated budget),
**So that** I can manage financial resources and ensure program sustainability.

## Description

Budget tracking at the state level enables administrators to:
- Monitor overall program spending
- Project future budget requirements
- Identify districts with unusual payout patterns
- Ensure compliance with allocated budgets
- Plan for budget allocation adjustments

## Acceptance Criteria

### Functional Requirements
- [ ] Dashboard showing total budget vs actual payouts
- [ ] District-wise budget utilization breakdown
- [ ] Monthly/quarterly/yearly budget tracking
- [ ] Budget projection based on current trends
- [ ] Alerts for districts approaching budget limits
- [ ] Historical budget comparison
- [ ] Payout breakdown by type (capture, owner claim, UTL resolution)
- [ ] Export for financial reporting

### Non-Functional Requirements
- [ ] Financial data accuracy to 2 decimal places
- [ ] Audit trail for all budget modifications
- [ ] Role-based access (finance officers)
- [ ] Data encryption for financial information

## UI/UX Design

### Budget Utilization Dashboard
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ’° State Budget Utilization                              FY 2024-25         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  ALLOCATED BUDGET  â”‚ â”‚  UTILIZED          â”‚ â”‚  REMAINING         â”‚      â”‚
â”‚  â”‚    â‚¹25.00 Cr       â”‚ â”‚    â‚¹18.45 Cr       â”‚ â”‚    â‚¹6.55 Cr        â”‚      â”‚
â”‚  â”‚   100%             â”‚ â”‚   73.8%            â”‚ â”‚   26.2%            â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                             â”‚
â”‚  Budget Utilization Progress:                                               â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  Apr                                                   Dec              Mar â”‚
â”‚                                                        â†‘                    â”‚
â”‚                                                    Current                  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ðŸ“Š Monthly Budget Utilization                                         â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚   â‚¹3Cr â”‚                                           â•­â”€â”€â”€â”€â”€               â”‚â”‚
â”‚  â”‚        â”‚                                      â•­â”€â”€â”€â”€â•¯                    â”‚â”‚
â”‚  â”‚   â‚¹2Cr â”‚                                 â•­â”€â”€â”€â”€â•¯                         â”‚â”‚
â”‚  â”‚        â”‚                            â•­â”€â”€â”€â”€â•¯          â† Actual            â”‚â”‚
â”‚  â”‚   â‚¹1Cr â”‚       â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                                   â”‚â”‚
â”‚  â”‚        â”‚  â•­â”€â”€â”€â”€â•¯                         - - - - - â† Budget Line        â”‚â”‚
â”‚  â”‚      0 â””â”€â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€       â”‚â”‚
â”‚  â”‚          Apr   May   Jun   Jul   Aug   Sep   Oct   Nov   Dec            â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚   Monthly Avg: â‚¹2.05 Cr    Projected Year-End: â‚¹24.60 Cr               â”‚â”‚
â”‚  â”‚   Status: âœ“ On Track (within budget)                                   â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ðŸ“ District Budget Utilization                    [Sort: Util % â–¼]    â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ District     â”‚ Allocated â”‚ Utilized  â”‚ Util %     â”‚ Remaining â”‚ Status â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ Patna        â”‚ â‚¹1.50 Cr  â”‚ â‚¹1.32 Cr  â”‚    88% âš    â”‚ â‚¹0.18 Cr  â”‚ At Riskâ”‚â”‚
â”‚  â”‚ Gaya         â”‚ â‚¹1.20 Cr  â”‚ â‚¹0.95 Cr  â”‚    79%     â”‚ â‚¹0.25 Cr  â”‚ Normal â”‚â”‚
â”‚  â”‚ Muzaffarpur  â”‚ â‚¹1.00 Cr  â”‚ â‚¹0.72 Cr  â”‚    72%     â”‚ â‚¹0.28 Cr  â”‚ Normal â”‚â”‚
â”‚  â”‚ Bhagalpur    â”‚ â‚¹0.90 Cr  â”‚ â‚¹0.68 Cr  â”‚    76%     â”‚ â‚¹0.22 Cr  â”‚ Normal â”‚â”‚
â”‚  â”‚ Darbhanga    â”‚ â‚¹0.85 Cr  â”‚ â‚¹0.78 Cr  â”‚    92% âš    â”‚ â‚¹0.07 Cr  â”‚ Criticalâ”‚
â”‚  â”‚ ...          â”‚           â”‚           â”‚            â”‚           â”‚        â”‚â”‚
â”‚  â”‚ Total        â”‚ â‚¹25.00 Cr â”‚ â‚¹18.45 Cr â”‚    74%     â”‚ â‚¹6.55 Cr  â”‚        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ðŸ’µ Payout Breakdown                                                   â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  By Resolution Type:                  By Quarter:                       â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚â”‚
â”‚  â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â”‚ Captured       â”‚ Q1: â‚¹4.20 Cr     â”‚              â”‚â”‚
â”‚  â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â”‚ â‚¹14.85 Cr     â”‚ Q2: â‚¹5.45 Cr     â”‚              â”‚â”‚
â”‚  â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆ            â”‚ (80.5%)        â”‚ Q3: â‚¹5.80 Cr     â”‚              â”‚â”‚
â”‚  â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆ            â”‚                â”‚ Q4: â‚¹3.00 Cr *   â”‚              â”‚â”‚
â”‚  â”‚  â”‚  â–ˆâ–ˆ              â”‚ Owner Claimed  â”‚                   â”‚              â”‚â”‚
â”‚  â”‚  â”‚  â–ˆâ–ˆ              â”‚ â‚¹2.40 Cr      â”‚ * Projected       â”‚              â”‚â”‚
â”‚  â”‚  â”‚  â–ˆ               â”‚ (13.0%)        â”‚                   â”‚              â”‚â”‚
â”‚  â”‚  â”‚  â–ˆ               â”‚                â”‚                   â”‚              â”‚â”‚
â”‚  â”‚  â”‚                  â”‚ UTL Resolved   â”‚                   â”‚              â”‚â”‚
â”‚  â”‚  â”‚                  â”‚ â‚¹1.20 Cr      â”‚                   â”‚              â”‚â”‚
â”‚  â”‚  â”‚                  â”‚ (6.5%)         â”‚                   â”‚              â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  âš  Budget Alerts                                                       â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  ðŸ”´ Darbhanga: 92% utilized, only â‚¹7L remaining (2 months left)        â”‚â”‚
â”‚  â”‚     Projected shortfall: â‚¹8L                                           â”‚â”‚
â”‚  â”‚     [Request Reallocation] [View Details]                              â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  ðŸŸ¡ Patna: 88% utilized, â‚¹18L remaining                                â”‚â”‚
â”‚  â”‚     On track if current rate maintained                                â”‚â”‚
â”‚  â”‚     [View Details]                                                     â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  ðŸŸ¢ 32 districts within normal budget utilization                      â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ðŸ“ˆ Budget Projection                                                  â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  Current Monthly Burn Rate: â‚¹2.05 Cr                                   â”‚â”‚
â”‚  â”‚  Months Remaining: 3 (Jan - Mar)                                       â”‚â”‚
â”‚  â”‚  Projected Additional Spend: â‚¹6.15 Cr                                  â”‚â”‚
â”‚  â”‚  Projected Year-End Total: â‚¹24.60 Cr                                   â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  Budget Status: âœ“ Within allocation (â‚¹0.40 Cr buffer)                  â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  Scenarios:                                                             â”‚â”‚
â”‚  â”‚  â€¢ Conservative (+10% growth): â‚¹25.06 Cr âš  Slight Overrun             â”‚â”‚
â”‚  â”‚  â€¢ Aggressive (+20% growth): â‚¹25.68 Cr ðŸ”´ Overrun                      â”‚â”‚
â”‚  â”‚  â€¢ Reduced (-10% growth): â‚¹24.14 Cr âœ“ Under Budget                     â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚      [Export Financial Report] [Audit Trail] [Request Budget Adjustment]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Technical Implementation

### Budget Service
```javascript
// src/services/stateAdmin/BudgetService.js

class BudgetService {
  static BUDGET_STATUS = {
    NORMAL: { threshold: 75, color: '#4caf50', label: 'Normal' },
    AT_RISK: { threshold: 85, color: '#ff9800', label: 'At Risk' },
    CRITICAL: { threshold: 95, color: '#f44336', label: 'Critical' }
  };

  static PAYOUT_TYPES = {
    CAPTURED: 'CAPTURED',
    OWNER_CLAIMED: 'OWNER_CLAIMED',
    UTL_RESOLVED: 'UTL_RESOLVED'
  };

  static async getStateBudget(fiscalYear) {
    const response = await fetch(`/api/state-admin/budget?fiscalYear=${fiscalYear}`, {
      headers: { 'Authorization': `Bearer ${getAuthToken()}` }
    });
    return response.json();
  }

  static async getDistrictBudgets(fiscalYear) {
    const response = await fetch(`/api/state-admin/budget/by-district?fiscalYear=${fiscalYear}`, {
      headers: { 'Authorization': `Bearer ${getAuthToken()}` }
    });
    return response.json();
  }

  static async getMonthlyUtilization(fiscalYear) {
    const response = await fetch(`/api/state-admin/budget/monthly?fiscalYear=${fiscalYear}`, {
      headers: { 'Authorization': `Bearer ${getAuthToken()}` }
    });
    return response.json();
  }

  static async getPayoutBreakdown(fiscalYear) {
    const response = await fetch(`/api/state-admin/budget/breakdown?fiscalYear=${fiscalYear}`, {
      headers: { 'Authorization': `Bearer ${getAuthToken()}` }
    });
    return response.json();
  }

  static async getBudgetProjections(fiscalYear) {
    const response = await fetch(`/api/state-admin/budget/projections?fiscalYear=${fiscalYear}`, {
      headers: { 'Authorization': `Bearer ${getAuthToken()}` }
    });
    return response.json();
  }

  static async requestBudgetAdjustment(districtId, amount, reason) {
    const response = await fetch('/api/state-admin/budget/adjustment-request', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${getAuthToken()}`
      },
      body: JSON.stringify({ districtId, amount, reason })
    });
    return response.json();
  }

  static calculateUtilizationPercentage(utilized, allocated) {
    if (allocated === 0) return 0;
    return Math.round((utilized / allocated) * 1000) / 10; // 1 decimal place
  }

  static getBudgetStatus(utilizationPercentage) {
    if (utilizationPercentage >= this.BUDGET_STATUS.CRITICAL.threshold) return 'critical';
    if (utilizationPercentage >= this.BUDGET_STATUS.AT_RISK.threshold) return 'at-risk';
    return 'normal';
  }

  static getMonthsRemaining(fiscalYearEnd = new Date(2025, 2, 31)) {
    const now = new Date();
    const monthsDiff = (fiscalYearEnd.getFullYear() - now.getFullYear()) * 12
      + fiscalYearEnd.getMonth() - now.getMonth();
    return Math.max(0, monthsDiff);
  }

  static projectYearEndSpend(monthlyAverage, currentTotal, monthsRemaining) {
    return currentTotal + (monthlyAverage * monthsRemaining);
  }

  static formatCurrency(amount) {
    if (amount >= 10000000) return `â‚¹${(amount / 10000000).toFixed(2)} Cr`;
    if (amount >= 100000) return `â‚¹${(amount / 100000).toFixed(2)} L`;
    return `â‚¹${amount.toLocaleString()}`;
  }

  static getFiscalYear(date = new Date()) {
    const month = date.getMonth();
    const year = date.getFullYear();
    // Indian fiscal year: April to March
    if (month >= 3) {
      return `${year}-${(year + 1).toString().slice(2)}`;
    }
    return `${year - 1}-${year.toString().slice(2)}`;
  }
}

export default BudgetService;
```

### Budget Dashboard Component
```jsx
// src/components/stateAdmin/BudgetDashboard.jsx
import React, { useState, useEffect, useMemo } from 'react';
import { Line, Doughnut, Bar } from 'react-chartjs-2';
import BudgetService from '../../services/stateAdmin/BudgetService';

function BudgetDashboard() {
  const [fiscalYear, setFiscalYear] = useState(BudgetService.getFiscalYear());
  const [stateBudget, setStateBudget] = useState(null);
  const [districtBudgets, setDistrictBudgets] = useState([]);
  const [monthlyData, setMonthlyData] = useState(null);
  const [payoutBreakdown, setPayoutBreakdown] = useState(null);
  const [projections, setProjections] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchBudgetData();
  }, [fiscalYear]);

  const fetchBudgetData = async () => {
    setLoading(true);
    try {
      const [budget, districts, monthly, breakdown, proj] = await Promise.all([
        BudgetService.getStateBudget(fiscalYear),
        BudgetService.getDistrictBudgets(fiscalYear),
        BudgetService.getMonthlyUtilization(fiscalYear),
        BudgetService.getPayoutBreakdown(fiscalYear),
        BudgetService.getBudgetProjections(fiscalYear)
      ]);

      setStateBudget(budget);
      setDistrictBudgets(districts);
      setMonthlyData(monthly);
      setPayoutBreakdown(breakdown);
      setProjections(proj);
    } catch (error) {
      console.error('Failed to fetch budget data:', error);
    } finally {
      setLoading(false);
    }
  };

  const utilizationPercentage = useMemo(() => {
    if (!stateBudget) return 0;
    return BudgetService.calculateUtilizationPercentage(
      stateBudget.utilized,
      stateBudget.allocated
    );
  }, [stateBudget]);

  const alertDistricts = useMemo(() => {
    return districtBudgets.filter(d => {
      const util = BudgetService.calculateUtilizationPercentage(d.utilized, d.allocated);
      return util >= BudgetService.BUDGET_STATUS.AT_RISK.threshold;
    }).sort((a, b) => {
      const utilA = BudgetService.calculateUtilizationPercentage(a.utilized, a.allocated);
      const utilB = BudgetService.calculateUtilizationPercentage(b.utilized, b.allocated);
      return utilB - utilA;
    });
  }, [districtBudgets]);

  const monthlyChartData = useMemo(() => {
    if (!monthlyData) return null;

    return {
      labels: monthlyData.labels,
      datasets: [
        {
          label: 'Actual Spend',
          data: monthlyData.actual,
          borderColor: '#2196f3',
          backgroundColor: 'rgba(33, 150, 243, 0.1)',
          fill: true
        },
        {
          label: 'Budget Line',
          data: monthlyData.budgetLine,
          borderColor: '#666',
          borderDash: [5, 5],
          fill: false
        }
      ]
    };
  }, [monthlyData]);

  const payoutChartData = useMemo(() => {
    if (!payoutBreakdown) return null;

    return {
      labels: ['Captured', 'Owner Claimed', 'UTL Resolved'],
      datasets: [{
        data: [
          payoutBreakdown.captured,
          payoutBreakdown.ownerClaimed,
          payoutBreakdown.utlResolved
        ],
        backgroundColor: ['#4caf50', '#ff9800', '#2196f3']
      }]
    };
  }, [payoutBreakdown]);

  if (loading && !stateBudget) {
    return <div className="loading-spinner">Loading budget data...</div>;
  }

  return (
    <div className="budget-dashboard">
      <header className="dashboard-header">
        <h1>State Budget Utilization</h1>
        <select value={fiscalYear} onChange={(e) => setFiscalYear(e.target.value)}>
          <option value="2024-25">FY 2024-25</option>
          <option value="2023-24">FY 2023-24</option>
          <option value="2022-23">FY 2022-23</option>
        </select>
      </header>

      {/* Budget Summary Cards */}
      {stateBudget && (
        <div className="budget-summary">
          <div className="summary-card">
            <div className="card-label">Allocated Budget</div>
            <div className="card-value">{BudgetService.formatCurrency(stateBudget.allocated)}</div>
            <div className="card-sublabel">100%</div>
          </div>
          <div className="summary-card">
            <div className="card-label">Utilized</div>
            <div className="card-value">{BudgetService.formatCurrency(stateBudget.utilized)}</div>
            <div className="card-sublabel">{utilizationPercentage}%</div>
          </div>
          <div className="summary-card">
            <div className="card-label">Remaining</div>
            <div className="card-value">
              {BudgetService.formatCurrency(stateBudget.allocated - stateBudget.utilized)}
            </div>
            <div className="card-sublabel">{(100 - utilizationPercentage).toFixed(1)}%</div>
          </div>
        </div>
      )}

      {/* Progress Bar */}
      {stateBudget && (
        <div className="utilization-progress">
          <div className="progress-track">
            <div
              className="progress-fill"
              style={{
                width: `${utilizationPercentage}%`,
                backgroundColor: BudgetService.BUDGET_STATUS[
                  BudgetService.getBudgetStatus(utilizationPercentage).toUpperCase()
                ]?.color
              }}
            />
            <div className="progress-marker current" style={{ left: `${utilizationPercentage}%` }}>
              <span>Current</span>
            </div>
          </div>
          <div className="progress-labels">
            <span>Apr</span>
            <span>Dec</span>
            <span>Mar</span>
          </div>
        </div>
      )}

      {/* Monthly Utilization Chart */}
      {monthlyChartData && (
        <div className="monthly-chart-section">
          <h2>Monthly Budget Utilization</h2>
          <Line
            data={monthlyChartData}
            options={{
              responsive: true,
              plugins: {
                legend: { position: 'bottom' }
              },
              scales: {
                y: {
                  beginAtZero: true,
                  ticks: {
                    callback: (value) => BudgetService.formatCurrency(value)
                  }
                }
              }
            }}
          />
          {monthlyData && (
            <div className="monthly-stats">
              <span>Monthly Avg: {BudgetService.formatCurrency(monthlyData.average)}</span>
              <span>Projected Year-End: {BudgetService.formatCurrency(projections?.yearEndTotal)}</span>
              <span className={projections?.withinBudget ? 'status-ok' : 'status-warning'}>
                {projections?.withinBudget ? 'âœ“ On Track' : 'âš  Over Budget'}
              </span>
            </div>
          )}
        </div>
      )}

      {/* District Budget Table */}
      <div className="district-budget-section">
        <h2>District Budget Utilization</h2>
        <table className="budget-table">
          <thead>
            <tr>
              <th>District</th>
              <th>Allocated</th>
              <th>Utilized</th>
              <th>Util %</th>
              <th>Remaining</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            {districtBudgets.map(district => {
              const util = BudgetService.calculateUtilizationPercentage(
                district.utilized,
                district.allocated
              );
              const status = BudgetService.getBudgetStatus(util);

              return (
                <tr key={district.id} className={status}>
                  <td>{district.name}</td>
                  <td>{BudgetService.formatCurrency(district.allocated)}</td>
                  <td>{BudgetService.formatCurrency(district.utilized)}</td>
                  <td>
                    <span className={`util-badge ${status}`}>
                      {util}%
                      {status !== 'normal' && ' âš '}
                    </span>
                  </td>
                  <td>{BudgetService.formatCurrency(district.allocated - district.utilized)}</td>
                  <td>
                    <span className={`status-badge ${status}`}>
                      {BudgetService.BUDGET_STATUS[status.toUpperCase()]?.label}
                    </span>
                  </td>
                </tr>
              );
            })}
          </tbody>
          <tfoot>
            <tr className="total-row">
              <td>Total</td>
              <td>{BudgetService.formatCurrency(stateBudget?.allocated)}</td>
              <td>{BudgetService.formatCurrency(stateBudget?.utilized)}</td>
              <td>{utilizationPercentage}%</td>
              <td>{BudgetService.formatCurrency(stateBudget?.allocated - stateBudget?.utilized)}</td>
              <td></td>
            </tr>
          </tfoot>
        </table>
      </div>

      {/* Payout Breakdown */}
      <div className="payout-breakdown-section">
        <h2>Payout Breakdown</h2>
        <div className="breakdown-grid">
          <div className="breakdown-chart">
            <h3>By Resolution Type</h3>
            {payoutChartData && (
              <Doughnut
                data={payoutChartData}
                options={{
                  responsive: true,
                  plugins: {
                    legend: { position: 'right' }
                  }
                }}
              />
            )}
            {payoutBreakdown && (
              <div className="breakdown-details">
                <div className="breakdown-item">
                  <span className="dot captured" />
                  Captured: {BudgetService.formatCurrency(payoutBreakdown.captured)}
                  ({((payoutBreakdown.captured / stateBudget?.utilized) * 100).toFixed(1)}%)
                </div>
                <div className="breakdown-item">
                  <span className="dot owner-claimed" />
                  Owner Claimed: {BudgetService.formatCurrency(payoutBreakdown.ownerClaimed)}
                  ({((payoutBreakdown.ownerClaimed / stateBudget?.utilized) * 100).toFixed(1)}%)
                </div>
                <div className="breakdown-item">
                  <span className="dot utl-resolved" />
                  UTL Resolved: {BudgetService.formatCurrency(payoutBreakdown.utlResolved)}
                  ({((payoutBreakdown.utlResolved / stateBudget?.utilized) * 100).toFixed(1)}%)
                </div>
              </div>
            )}
          </div>
          <div className="quarterly-breakdown">
            <h3>By Quarter</h3>
            {payoutBreakdown?.quarterly && (
              <div className="quarterly-list">
                {payoutBreakdown.quarterly.map((q, i) => (
                  <div key={i} className="quarter-item">
                    <span className="quarter-label">Q{i + 1}:</span>
                    <span className="quarter-value">{BudgetService.formatCurrency(q.amount)}</span>
                    {q.projected && <span className="projected">* Projected</span>}
                  </div>
                ))}
              </div>
            )}
          </div>
        </div>
      </div>

      {/* Budget Alerts */}
      {alertDistricts.length > 0 && (
        <div className="alerts-section">
          <h2>Budget Alerts</h2>
          {alertDistricts.map(district => {
            const util = BudgetService.calculateUtilizationPercentage(
              district.utilized,
              district.allocated
            );
            const status = BudgetService.getBudgetStatus(util);
            const remaining = district.allocated - district.utilized;

            return (
              <div key={district.id} className={`alert-card ${status}`}>
                <div className="alert-icon">
                  {status === 'critical' ? 'ðŸ”´' : 'ðŸŸ¡'}
                </div>
                <div className="alert-content">
                  <div className="alert-title">
                    {district.name}: {util}% utilized, only {BudgetService.formatCurrency(remaining)} remaining
                  </div>
                  {district.projectedShortfall && (
                    <div className="alert-detail">
                      Projected shortfall: {BudgetService.formatCurrency(district.projectedShortfall)}
                    </div>
                  )}
                </div>
                <div className="alert-actions">
                  <button
                    className="btn-primary"
                    onClick={() => handleReallocationRequest(district)}
                  >
                    Request Reallocation
                  </button>
                  <button className="btn-secondary">View Details</button>
                </div>
              </div>
            );
          })}
          <div className="normal-districts-summary">
            ðŸŸ¢ {districtBudgets.length - alertDistricts.length} districts within normal budget utilization
          </div>
        </div>
      )}

      {/* Projections */}
      {projections && (
        <div className="projections-section">
          <h2>Budget Projection</h2>
          <div className="projection-details">
            <div className="projection-row">
              <span>Current Monthly Burn Rate:</span>
              <span>{BudgetService.formatCurrency(projections.monthlyBurnRate)}</span>
            </div>
            <div className="projection-row">
              <span>Months Remaining:</span>
              <span>{projections.monthsRemaining} ({projections.remainingMonthNames})</span>
            </div>
            <div className="projection-row">
              <span>Projected Additional Spend:</span>
              <span>{BudgetService.formatCurrency(projections.additionalSpend)}</span>
            </div>
            <div className="projection-row highlight">
              <span>Projected Year-End Total:</span>
              <span>{BudgetService.formatCurrency(projections.yearEndTotal)}</span>
            </div>
            <div className={`budget-status ${projections.withinBudget ? 'ok' : 'warning'}`}>
              {projections.withinBudget
                ? `âœ“ Within allocation (${BudgetService.formatCurrency(projections.buffer)} buffer)`
                : `âš  Over allocation by ${BudgetService.formatCurrency(projections.overrun)}`
              }
            </div>
          </div>

          <div className="scenarios">
            <h3>Scenarios</h3>
            {projections.scenarios.map((scenario, i) => (
              <div key={i} className={`scenario ${scenario.status}`}>
                <span className="scenario-icon">
                  {scenario.status === 'ok' ? 'âœ“' : scenario.status === 'warning' ? 'âš ' : 'ðŸ”´'}
                </span>
                <span className="scenario-name">{scenario.name}:</span>
                <span className="scenario-value">{BudgetService.formatCurrency(scenario.total)}</span>
                <span className="scenario-label">{scenario.label}</span>
              </div>
            ))}
          </div>
        </div>
      )}

      {/* Actions */}
      <div className="dashboard-actions">
        <button className="btn-primary" onClick={exportFinancialReport}>
          Export Financial Report
        </button>
        <button className="btn-secondary" onClick={viewAuditTrail}>
          Audit Trail
        </button>
        <button className="btn-secondary" onClick={requestBudgetAdjustment}>
          Request Budget Adjustment
        </button>
      </div>
    </div>
  );

  function handleReallocationRequest(district) {
    // Open reallocation modal
  }

  function exportFinancialReport() {
    // Export logic
  }

  function viewAuditTrail() {
    window.location.href = '/state-admin/budget/audit-trail';
  }

  function requestBudgetAdjustment() {
    // Open adjustment request modal
  }
}

export default BudgetDashboard;
```

## Dependencies

- **All District Payout APIs**: Payout data from all districts
- **Finance Module**: Budget allocation and tracking
- **Audit Trail API**: Budget modification history

## Related Stories

- [DA-06](../district-admin/DA-06.md) - District Payout Summary
- [SA-01](./SA-01.md) - Statewide Metrics
- [SA-06](./SA-06.md) - Configure System Parameters

## Notes

- Indian fiscal year runs April to March
- Budget allocations are set at the start of fiscal year
- Reallocation requests require finance department approval
- All budget changes are logged for audit purposes
- Currency formatted in Crores (Cr) and Lakhs (L)
