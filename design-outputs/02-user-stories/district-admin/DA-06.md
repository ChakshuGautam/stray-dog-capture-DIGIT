# DA-06: View Payout Summary by Block

[â† Back to User Stories Master](../../design-outputs/02-user-stories.md) | [â† Back to Admin Stories](./index.md)

## User Story

**As a** District Administrator,
**I want to** see payout summary by block,
**So that** I can monitor budget utilization across my district.

## Description

Understanding payout distribution helps district administrators:
- Track budget consumption
- Ensure equitable distribution
- Identify payout anomalies
- Project future budget needs

## Acceptance Criteria

### Functional Requirements
- [ ] Total payouts by block (current month, last month, YTD)
- [ ] Average payout per teacher by block
- [ ] Payout breakdown by type (base, bonus)
- [ ] Teachers approaching monthly cap (â‚¹5,000)
- [ ] Comparison with allocated budget
- [ ] Export for finance reporting

### Non-Functional Requirements
- [ ] Data updated daily
- [ ] Amounts rounded to nearest rupee
- [ ] Historical data available (12 months)

## UI/UX Design

### Payout Summary Dashboard
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ’° Payout Summary by Block                    December 2026    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  District Budget: â‚¹5,00,000    Used: â‚¹2,45,750 (49%)          â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Total       â”‚  Teachers    â”‚  Avg/Teacher â”‚  Near Cap    â”‚  â”‚
â”‚  â”‚  Payouts     â”‚  Paid        â”‚              â”‚              â”‚  â”‚
â”‚  â”‚  â‚¹2,45,750   â”‚    892       â”‚    â‚¹275      â”‚     23       â”‚  â”‚
â”‚  â”‚  â†‘ 12%       â”‚  â†‘ 8%        â”‚  â†‘ 4%        â”‚  â†‘ 5         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ðŸ“Š Block-wise Payout Distribution                         â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚ Block         â”‚ Total    â”‚Teachersâ”‚ Avg/    â”‚ % of Budget  â”‚â”‚â”‚
â”‚  â”‚               â”‚ Payout   â”‚ Paid   â”‚ Teacher â”‚              â”‚â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚â”‚
â”‚  â”‚ Patna City    â”‚ â‚¹82,450  â”‚  298   â”‚ â‚¹277    â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 33% â”‚â”‚â”‚
â”‚  â”‚ Danapur       â”‚ â‚¹58,200  â”‚  211   â”‚ â‚¹276    â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   24% â”‚â”‚â”‚
â”‚  â”‚ Bikram        â”‚ â‚¹36,500  â”‚  132   â”‚ â‚¹277    â”‚ â–ˆâ–ˆâ–ˆâ–ˆ     15% â”‚â”‚â”‚
â”‚  â”‚ Phulwari      â”‚ â‚¹28,900  â”‚  108   â”‚ â‚¹268    â”‚ â–ˆâ–ˆâ–ˆ      12% â”‚â”‚â”‚
â”‚  â”‚ Sampatchak    â”‚ â‚¹22,100  â”‚   83   â”‚ â‚¹266    â”‚ â–ˆâ–ˆ        9% â”‚â”‚â”‚
â”‚  â”‚ Others        â”‚ â‚¹17,600  â”‚   60   â”‚ â‚¹293    â”‚ â–ˆâ–ˆ        7% â”‚â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ðŸ’µ Payout Breakdown         â”‚  âš  Teachers Near Cap        â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                              â”‚                              â”‚â”‚
â”‚  â”‚  Base Points (50 pts/cap)    â”‚  23 teachers at >â‚¹4,000     â”‚â”‚
â”‚  â”‚  â‚¹1,98,500 (81%)             â”‚                              â”‚â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚                              â”‚  â”‚ T-4521  â‚¹4,850 (97%)  â”‚ â”‚â”‚
â”‚  â”‚  Injury/Aggressive Bonus     â”‚  â”‚ T-8934  â‚¹4,700 (94%)  â”‚ â”‚â”‚
â”‚  â”‚  â‚¹28,750 (12%)               â”‚  â”‚ T-2156  â‚¹4,550 (91%)  â”‚ â”‚â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                      â”‚  â”‚ T-7823  â‚¹4,400 (88%)  â”‚ â”‚â”‚
â”‚  â”‚                              â”‚  â”‚ ...                    â”‚ â”‚â”‚
â”‚  â”‚  New Locality Bonus          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â”‚  â‚¹12,500 (5%)                â”‚                              â”‚â”‚
â”‚  â”‚  â–ˆâ–ˆ                          â”‚  Cap: â‚¹5,000/month/teacher  â”‚â”‚
â”‚  â”‚                              â”‚                              â”‚â”‚
â”‚  â”‚  Streak Bonus (7+ days)      â”‚                              â”‚â”‚
â”‚  â”‚  â‚¹6,000 (2%)                 â”‚                              â”‚â”‚
â”‚  â”‚  â–ˆ                           â”‚                              â”‚â”‚
â”‚  â”‚                              â”‚                              â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ðŸ“ˆ Monthly Payout Trend                                   â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚  3Lâ”‚                              ___                       â”‚â”‚
â”‚  â”‚    â”‚                           __/                          â”‚â”‚
â”‚  â”‚  2Lâ”‚                      ____/                             â”‚â”‚
â”‚  â”‚    â”‚                 ____/                                  â”‚â”‚
â”‚  â”‚  1Lâ”‚           _____/                                       â”‚â”‚
â”‚  â”‚    â”‚     _____/                                             â”‚â”‚
â”‚  â”‚   0â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚â”‚
â”‚  â”‚       Jul  Aug  Sep  Oct  Nov  Dec                          â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚   Budget Utilization: On track for 98% by month end        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚                               [Export Report] [Download CSV]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Technical Implementation

### Payout Summary Service
```javascript
// src/services/admin/PayoutSummaryService.js

class PayoutSummaryService {
  static MONTHLY_CAP = 5000;
  static CAP_WARNING_THRESHOLD = 4000; // 80% of cap

  static async getDistrictSummary(districtId, month, year) {
    const params = new URLSearchParams({
      districtId,
      month: month.toString(),
      year: year.toString()
    });

    const response = await fetch(`/api/admin/payouts/summary?${params}`);
    return response.json();
  }

  static async getBlockBreakdown(districtId, month, year) {
    const params = new URLSearchParams({
      districtId,
      month: month.toString(),
      year: year.toString()
    });

    const response = await fetch(`/api/admin/payouts/by-block?${params}`);
    return response.json();
  }

  static async getPayoutTrend(districtId, months = 6) {
    const response = await fetch(
      `/api/admin/payouts/trend?districtId=${districtId}&months=${months}`
    );
    return response.json();
  }

  static async getTeachersNearCap(districtId, month, year, threshold = 4000) {
    const params = new URLSearchParams({
      districtId,
      month: month.toString(),
      year: year.toString(),
      minAmount: threshold.toString()
    });

    const response = await fetch(`/api/admin/payouts/near-cap?${params}`);
    return response.json();
  }

  static async getPayoutBreakdown(districtId, month, year) {
    const params = new URLSearchParams({
      districtId,
      month: month.toString(),
      year: year.toString()
    });

    const response = await fetch(`/api/admin/payouts/breakdown?${params}`);
    return response.json();
  }

  static formatCurrency(amount) {
    return new Intl.NumberFormat('en-IN', {
      style: 'currency',
      currency: 'INR',
      maximumFractionDigits: 0
    }).format(amount);
  }

  static calculateCapPercentage(amount) {
    return Math.round((amount / this.MONTHLY_CAP) * 100);
  }

  static getBudgetStatus(used, allocated) {
    const percentage = (used / allocated) * 100;
    if (percentage >= 100) return { status: 'exceeded', color: '#f44336' };
    if (percentage >= 80) return { status: 'high', color: '#ff9800' };
    if (percentage >= 50) return { status: 'moderate', color: '#8bc34a' };
    return { status: 'low', color: '#4caf50' };
  }
}

export default PayoutSummaryService;
```

### Payout Dashboard Component
```jsx
// src/components/admin/PayoutDashboard.jsx
import React, { useState, useEffect } from 'react';
import { Line } from 'react-chartjs-2';
import PayoutSummaryService from '../../services/admin/PayoutSummaryService';

function PayoutDashboard({ districtId }) {
  const [month, setMonth] = useState(new Date().getMonth() + 1);
  const [year, setYear] = useState(new Date().getFullYear());
  const [summary, setSummary] = useState(null);
  const [blockData, setBlockData] = useState([]);
  const [breakdown, setBreakdown] = useState(null);
  const [nearCapTeachers, setNearCapTeachers] = useState([]);
  const [trend, setTrend] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchPayoutData();
  }, [districtId, month, year]);

  const fetchPayoutData = async () => {
    setLoading(true);
    try {
      const [summaryData, blocks, payoutBreakdown, nearCap, trendData] = await Promise.all([
        PayoutSummaryService.getDistrictSummary(districtId, month, year),
        PayoutSummaryService.getBlockBreakdown(districtId, month, year),
        PayoutSummaryService.getPayoutBreakdown(districtId, month, year),
        PayoutSummaryService.getTeachersNearCap(districtId, month, year),
        PayoutSummaryService.getPayoutTrend(districtId, 6)
      ]);

      setSummary(summaryData);
      setBlockData(blocks);
      setBreakdown(payoutBreakdown);
      setNearCapTeachers(nearCap);
      setTrend(trendData);
    } catch (error) {
      console.error('Failed to fetch payout data:', error);
    } finally {
      setLoading(false);
    }
  };

  const exportReport = () => {
    const report = {
      period: `${month}/${year}`,
      summary,
      blockData,
      breakdown,
      nearCapTeachers,
      generatedAt: new Date().toISOString()
    };

    const blob = new Blob([JSON.stringify(report, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `payout-report-${month}-${year}.json`;
    a.click();
  };

  if (loading) {
    return <div className="loading-spinner">Loading payout data...</div>;
  }

  const budgetStatus = summary
    ? PayoutSummaryService.getBudgetStatus(summary.totalPayout, summary.allocatedBudget)
    : null;

  return (
    <div className="payout-dashboard">
      <h1>ðŸ’° Payout Summary by Block</h1>

      {/* Budget Progress */}
      {summary && (
        <div className="budget-progress">
          <p>
            District Budget: {PayoutSummaryService.formatCurrency(summary.allocatedBudget)}
            <span className="separator">|</span>
            Used: {PayoutSummaryService.formatCurrency(summary.totalPayout)}
            ({Math.round((summary.totalPayout / summary.allocatedBudget) * 100)}%)
          </p>
          <div className="progress-bar">
            <div
              className="progress-fill"
              style={{
                width: `${Math.min((summary.totalPayout / summary.allocatedBudget) * 100, 100)}%`,
                background: budgetStatus?.color
              }}
            />
          </div>
        </div>
      )}

      {/* Summary Cards */}
      {summary && (
        <div className="summary-cards">
          <SummaryCard
            label="Total Payouts"
            value={PayoutSummaryService.formatCurrency(summary.totalPayout)}
            change={summary.totalChange}
          />
          <SummaryCard
            label="Teachers Paid"
            value={summary.teachersPaid.toLocaleString()}
            change={summary.teachersChange}
          />
          <SummaryCard
            label="Avg/Teacher"
            value={PayoutSummaryService.formatCurrency(summary.avgPerTeacher)}
            change={summary.avgChange}
          />
          <SummaryCard
            label="Near Cap"
            value={nearCapTeachers.length}
            change={summary.nearCapChange}
            isWarning
          />
        </div>
      )}

      {/* Block Breakdown Table */}
      <div className="block-breakdown">
        <h2>ðŸ“Š Block-wise Payout Distribution</h2>
        <table>
          <thead>
            <tr>
              <th>Block</th>
              <th>Total Payout</th>
              <th>Teachers Paid</th>
              <th>Avg/Teacher</th>
              <th>% of Budget</th>
            </tr>
          </thead>
          <tbody>
            {blockData.map(block => (
              <tr key={block.id}>
                <td>{block.name}</td>
                <td>{PayoutSummaryService.formatCurrency(block.totalPayout)}</td>
                <td>{block.teachersPaid}</td>
                <td>{PayoutSummaryService.formatCurrency(block.avgPerTeacher)}</td>
                <td>
                  <div className="percentage-bar">
                    <div
                      className="bar-fill"
                      style={{ width: `${block.budgetPercentage}%` }}
                    />
                    <span>{block.budgetPercentage}%</span>
                  </div>
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>

      <div className="detail-panels">
        {/* Payout Breakdown */}
        {breakdown && (
          <div className="breakdown-panel">
            <h3>ðŸ’µ Payout Breakdown</h3>
            <BreakdownItem
              label="Base Points (50 pts/capture)"
              amount={breakdown.basePoints}
              percentage={breakdown.basePercentage}
            />
            <BreakdownItem
              label="Injury/Aggressive Bonus"
              amount={breakdown.injuryBonus}
              percentage={breakdown.injuryPercentage}
            />
            <BreakdownItem
              label="New Locality Bonus"
              amount={breakdown.localityBonus}
              percentage={breakdown.localityPercentage}
            />
            <BreakdownItem
              label="Streak Bonus (7+ days)"
              amount={breakdown.streakBonus}
              percentage={breakdown.streakPercentage}
            />
          </div>
        )}

        {/* Teachers Near Cap */}
        <div className="near-cap-panel">
          <h3>âš  Teachers Near Cap</h3>
          <p className="cap-info">Cap: â‚¹5,000/month/teacher</p>
          <div className="near-cap-list">
            {nearCapTeachers.slice(0, 5).map(teacher => (
              <div key={teacher.id} className="near-cap-item">
                <span className="teacher-id">{teacher.teacherId}</span>
                <span className="teacher-amount">
                  {PayoutSummaryService.formatCurrency(teacher.totalPayout)}
                </span>
                <span className="cap-percentage">
                  ({PayoutSummaryService.calculateCapPercentage(teacher.totalPayout)}%)
                </span>
              </div>
            ))}
          </div>
          {nearCapTeachers.length > 5 && (
            <button className="view-all-btn">
              View all {nearCapTeachers.length} teachers
            </button>
          )}
        </div>
      </div>

      {/* Trend Chart */}
      <div className="trend-chart">
        <h3>ðŸ“ˆ Monthly Payout Trend</h3>
        <Line
          data={{
            labels: trend.map(t => t.month),
            datasets: [{
              label: 'Total Payout',
              data: trend.map(t => t.amount),
              borderColor: '#4caf50',
              tension: 0.4
            }]
          }}
          options={{
            responsive: true,
            plugins: { legend: { display: false } }
          }}
        />
      </div>

      <div className="dashboard-actions">
        <button onClick={exportReport} className="export-btn">Export Report</button>
        <button className="csv-btn">Download CSV</button>
      </div>
    </div>
  );
}

function SummaryCard({ label, value, change, isWarning }) {
  const isPositive = change >= 0;
  return (
    <div className={`summary-card ${isWarning ? 'warning' : ''}`}>
      <div className="card-value">{value}</div>
      <div className="card-label">{label}</div>
      <div className={`card-change ${isPositive ? 'positive' : 'negative'}`}>
        {isPositive ? 'â†‘' : 'â†“'} {Math.abs(change)}%
      </div>
    </div>
  );
}

function BreakdownItem({ label, amount, percentage }) {
  return (
    <div className="breakdown-item">
      <div className="item-label">{label}</div>
      <div className="item-value">
        {PayoutSummaryService.formatCurrency(amount)} ({percentage}%)
      </div>
      <div className="item-bar">
        <div className="bar-fill" style={{ width: `${percentage}%` }} />
      </div>
    </div>
  );
}

export default PayoutDashboard;
```

## Dependencies

- **S-PTS**: Points system (payout data source)
- **Chart.js**: Trend visualization

## Related Stories

- [DA-01](./DA-01.md) - Submission Volume
- [SA-03](../state-admin/SA-03.md) - Budget Utilization
- [T-PAY-02](../teacher/T-PAY-02.md) - Payout History

## Notes

- Monthly cap enforcement is critical
- Teachers approaching cap should be visible
- Budget tracking helps financial planning
